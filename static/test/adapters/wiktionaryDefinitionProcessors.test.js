/*jslint multistr:true*/
/*globals beforeEach, describe, it*/
define([
   'underscore',
   'adapters/wiktionaryDefinitionProcessors',
   'expect',
   'mocha',
   'sinon'
], function (_, processors, expect) {
    "use strict";

    describe("the German definition processor", function () {

        it("transforms unstructured German wiktionary page into definitions", function () {
            var mudigkeit, bezeichnen, klage;
            mudigkeit = '<h2>M\u00fcdigkeit (Deutsch) [Bearbeiten]</h2>\n<h3>Substantiv, <em title=\"Genus: Femininum (grammatikal. Geschlecht: weiblich)\">f</em> [Bearbeiten]</h3>\n<p style=\"margin-bottom: -0.5em;\" title=\"Worttrennung\"><b>Worttrennung:</b></p>\n<dl><dd>M\u00fc\u00b7dig\u00b7keit, <i>kein Plural</i></dd>\n</dl><p style=\"margin-bottom: -0.5em;\"><b>Aussprache:</b></p>\n<dl><dd>IPA: [\u02c8my\u02d0d\u026a\u00e7ka\u026a\u032ft]</dd>\n<dd>H\u00f6rbeispiele: \u2014</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Auch hier: Sinn oder Bezeichnetes (\u2192Semantik)\"><b>Bedeutungen:</b></p>\n<dl><dd>[1] Zustand des Schlafmangels oder des Unausgeruhtseins</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Etymologie\"><b>Herkunft:</b></p>\n<dl><dd>Substantivierung (Ableitung) des Adjektivs <i>m\u00fcde</i> mit den Derivatemen (Ableitungsmorphemen) <i>-ig</i> und <i>-keit</i></dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"In bestimmtem Kontext bedeutungsgleich gebrauchte W\u00f6rter\"><b>Synonyme:</b></p>\n<dl><dd>[1] Ersch\u00f6pfung, Mattigkeit, Schl\u00e4frigkeit</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Antonyme\"><b>Gegenw\u00f6rter:</b></p>\n<dl><dd>[1] Aufgewecktheit</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Hyperonyme\"><b>Oberbegriffe:</b></p>\n<dl><dd>[1] Schlaf</dd>\n</dl><p style=\"margin-bottom: -0.5em;\"><b>Beispiele:</b></p>\n<dl><dd>[1] \u201eEs \u00fcberkam sie jenes Tr\u00e4umen von nie wiederkehrenden Dingen, jene <i>M\u00fcdigkeit,</i>\
die uns angesichts jeder unab\u00e4nderlichen Tatsache \u00fcbermannt, jener Schmerz schlie\u00dflich, den uns die Unterbrechung jeder gewohnt gewordenen Bewegung bringt, das j\u00e4he Aufh\u00f6ren einer Schwingung, die lange angedauert hat.\u201c</dd>\n<dd>[1] Die <i>M\u00fcdigkeit</i> \u00fcberkam sie sofort nach der Arbeit.</dd>\n<dd>[1] \u201eIch versp\u00fcrte <i>M\u00fcdigkeit,</i> und ich dachte daran, da\u00df ich am n\u00e4chsten Morgen fr\u00fch an Deck zu sein hatte.\u201c</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Signifikante Kollokationen\"><b>Charakteristische Wortkombinationen:</b></p>\n<dl><dd>\u00fcberkommen <i>der M\u00fcdigkeit</i></dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Derivate, Komposita und Konversionen\"><b>Wortbildungen:</b></p>\n<dl><dd>Fr\u00fchjahrsm\u00fcdigkeit, M\u00fcdigkeitserscheinung</dd>\n</dl><h4>\u00dcbersetzungen [Bearbeiten]</h4>\n\n\n<p title=\"Deutschsprachige Dialektausdr\u00fccke\"><b>Dialektausdr\u00fccke:</b></p>\n\n<p style=\"margin-bottom: -0.5em;\" title=\"Referenzen und weiterf\u00fchrende Informationen\"><font color=\"green\"><big><b>?</b></big></font> <b>Referenzen und weiterf\u00fchrende Informationen:</b></p>\n<dl><dd>[1] Wikipedia-Artikel \u201eM\u00fcdigkeit\u201c</dd>\n<dd>[1] Deutsches W\u00f6rterbuch von Jacob und Wilhelm Grimm \u201eM\u00fcdigkeit\u201c</dd>\n<dd>[1] Digitales W\u00f6rterbuch der deutschen Sprache \u201eM%FCdigkeit\u201c</dd>\n<dd>[1] canoo.net \u201eM\u00fcdigkeit\u201c</dd>\n<dd>[1] Uni Leipzig: <i>Wortschatz-Lexikon</i>\
\u201eM\u00fcdigkeit\u201c</dd>\n</dl><p><i>Quellen:</i><br></p>\n<ol class=\"references\"><li id=\"cite_note-1\"><b>\u2191</b> Gustave Flaubert: <i>Madame Bovary.</i> Sittenbild aus d. Provinz. Reclam, Stuttgart 1972, ISBN 3-15-005666-7 (Universal-Bibliothek; Nr. 5666/5670a)\u00a0, Seite 151.</li>\n<li id=\"cite_note-2\"><b>\u2191</b> Claus D. Wagner: <i>An der Kette in Puerto Limon.</i> Das dramatische Schicksal einer deutschen Schiffsbesatzung. Kabel, Hamburg 1996, ISBN 3-8225-0361-4, Seite\u00a089 (Fehlerhaftes Komma ausgelassen)\u00a0.</li>\n</ol><p style=\"margin-top:20px; margin-bottom:0em; border-top:1px solid #AAAAAA;\" title=\"\u00c4hnlich geschriebene oder gleich klingende W\u00f6rter\"><b>\u00c4hnliche W\u00f6rter:</b></p>\n<dl><dd>M\u00fcndigkeit</dd>\n</dl>';
            expect(processors.de(mudigkeit)).to.eql([
                "[1] Zustand des Schlafmangels oder des Unausgeruhtseins"
            ]);

            klage = "<h2>Klage (Deutsch) [Bearbeiten]</h2>\n\n<h3>Substantiv, <em title=\"Genus: Femininum (grammatikal. Geschlecht: weiblich)\">f</em> [Bearbeiten]</h3>\n<p style=\"margin-bottom: -0.5em;\" title=\"Worttrennung\"><b>Worttrennung:</b></p>\n<dl><dd>Kla\u00b7ge, Plural: Kla\u00b7gen</dd>\n</dl><p style=\"margin-bottom: -0.5em;\"><b>Aussprache:</b></p>\n<dl><dd>IPA: [\u02c8kla\u02d0\u0261\u0259], Plural: [\u02c8kla\u02d0\u0261n\u0329]</dd>\n<dd>H\u00f6rbeispiele: \u2014, Plural: \u2014</dd>\n<dd>Reime: -a\u02d0\u0261\u0259</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Auch hier: Sinn oder Bezeichnetes (\u2192Semantik)\"><b>Bedeutungen:</b></p>\n<dl><dd>[1] sprachlich gefasste \u00c4u\u00dferung unlustvoller Gef\u00fchle von Schmerz, Leid oder Trauer, etwa \u00fcber den Tod eines Menschen</dd>\n<dd>[2] sprachlich gefasste \u00c4u\u00dferung unlustvoller Gef\u00fchle von Entt\u00e4uschung, Unzufriedenheit, \u00c4rger oder Ressentiment, mit Implikationen von Kritik oder Schelte</dd>\n<dd>[3] <i>Recht:</i> ein Antrag an ein Gericht, \u00fcber einen Rechtsstreit zu entscheiden</dd>\n<dd>[4] <i>Literatur:</i> bestimmte Formen der Dichtung, in deren Mittelpunkt eine Klage ([1]) steht</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Etymologie\"><b>Herkunft:</b></p>\n<dl><dd>seit dem 9. Jahrhundert bezeugt; mittelhochdeutsch: <i>klage</i>; althochdeutsch: <i>klaga</i>; mit altindisch: \u0917\u0930\u094d\u0939\u093e\u00a0(garh\u0101)\u00a0<sup>\u2192\u00a0sa</sup> \u201aTadel\u2018 und \u0917\u0930\u094d\u0939\u0924\u093f\u00a0(g\u00e1rhati)\u00a0<sup>\u2192\u00a0sa</sup> \u2013 Wurzel \u0917\u0930\u094d\u0939\u094d\u00a0(garh)\u00a0<sup>\u2192\u00a0sa</sup> \u2013 \u201aer/sie beschuldigt\u2018 verwandt </dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"In bestimmtem Kontext bedeutungsgleich gebrauchte W\u00f6rter\"><b>Synonyme:</b></p>\n<dl><dd>[1] Jammer</dd>\n<dd>[2] Vorwurf, Beschwerde</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Hyperonyme\"><b>Oberbegriffe:</b></p>\
\n<dl><dd>[1, 2] Gef\u00fchls\u00e4u\u00dferung</dd>\n<dd>[3] Antrag</dd>\n<dd>[4] Dichtung</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Hyponyme\"><b>Unterbegriffe:</b></p>\n<dl><dd>[1] Totenklage</dd>\n<dd>[3] Interventionsklage, Nebenklage, Privatklage, R\u00e4umungsklage, Schadensersatzklage, Scheidungsklage, Unterhaltsklage, Verfassungsklage, Zivilklage</dd>\n<dd>[4] Klagelied</dd>\n</dl><p style=\"margin-bottom: -0.5em;\"><b>Beispiele:</b></p>\n<dl><dd>[1] Die <i>Klagen</i> der trauernden Frauen waren weithin h\u00f6rbar.</dd>\n<dd>[2] Die Sch\u00fcler sollten sich mit ihren <i>Klagen</i> \u00fcber das Kantinenessen direkt an die Schulleitung wenden.</dd>\n<dd>[3] Dagegen muss <i>Klage</i> erhoben werden.</dd>\n<dd>[3] \u201eDeshalb haben die vier Fahnder jetzt <i>Klage</i> gegen Gutachter H. eingereicht und auch seinem Auftraggeber, dem Land Hessen, den Streit erkl\u00e4rt.\u201c</dd>\n<dd>[4] Die Klage des Sumerischen Hiob gilt als \u00e4ltester Beleg f\u00fcr das Klagelied eines einzelnen.</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Signifikante Kollokationen\"><b>Charakteristische Wortkombinationen:</b></p>\n<dl><dd>[3] eine Klage (bei Gericht) einbringen, Klage erheben</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Derivate, Komposita und Konversionen\"><b>Wortbildungen:</b></p>\n<dl><dd>[1] Klageweib, Klagemauer, Klagegeschrei, beklagen</dd>\n<dd>[2] sich beklagen, klaglos</dd>\
\n<dd>[3] Klageweg, Klageschrift, Kl\u00e4ger, anklagen, verklagen</dd>\n<dd>[4] Klagelied, Klagegesang</dd>\n</dl><h4>\u00dcbersetzungen [Bearbeiten]</h4>\n\n\n<p style=\"margin-bottom: -0.5em;\" title=\"Referenzen und weiterf\u00fchrende Informationen\"><font color=\"green\"><big><b>?</b></big></font> <b>Referenzen und weiterf\u00fchrende Informationen:</b></p>\n<dl><dd>[1, 2] Wikipedia-Artikel \u201eKlage (Verhalten)\u201c</dd>\n<dd>[3] Wikipedia-Artikel \u201eKlage\u201c</dd>\n<dd>[1\u20133] Wikipedia-Artikel \u201eKlage (Begriffskl\u00e4rung)\u201c</dd>\n<dd>[1\u20133] Digitales W\u00f6rterbuch der deutschen Sprache \u201eKlage\u201c</dd>\n<dd>[1\u20133] canoo.net \u201eKlage\u201c</dd>\n<dd>[1\u20133] Uni Leipzig: <i>Wortschatz-Lexikon</i> \u201eKlage\u201c</dd>\n</dl><p><i>Quellen:</i><br></p>\n<ol class=\"references\"><li id=\"cite_note-1\"><b>\u2191</b> Dudenredaktion (Hrsg.): <i>Duden, Das Herkunftsw\u00f6rterbuch.</i> Etymologie der deutschen Sprache. In: <i>Der Duden in zw\u00f6lf B\u00e4nden.</i>  4.\u00a0Auflage. Band 7, Dudenverlag, Mannheim/Leipzig/Wien/Z\u00fcrich 2006, ISBN 978-3-411-04074-2\u00a0, Seite 408, Eintrag \u201eklagen\u201c.</li>\n<li id=\"cite_note-2\"><b>\u2191</b> Friedrich Kluge, bearbeitet von Elmar Seebold: <i>Etymologisches W\u00f6rterbuch der deutschen Sprache.</i> 24., durchgesehene und erweiterte\u00a0Auflage. Walter de Gruyter, Berlin/New York 2001, ISBN 978-3-11-017473-1, DNB 965096742\u00a0 Seite 491.</li>\n<li id=\"cite_note-3\"><b>\u2191</b> Matthias Bartsch, Felix Kurz: <i>Genervte Fahnder.</i> Nummer 4, 2011\u00a0, Seite 72.</li>\n</ol>";
            expect(processors.de(klage)).to.eql([
               "[1] sprachlich gefasste Äußerung unlustvoller Gefühle von Schmerz, Leid oder Trauer, etwa über den Tod eines Menschen",
               "[2] sprachlich gefasste Äußerung unlustvoller Gefühle von Enttäuschung, Unzufriedenheit, Ärger oder Ressentiment, mit Implikationen von Kritik oder Schelte",
               "[3] Recht: ein Antrag an ein Gericht, über einen Rechtsstreit zu entscheiden",
               "[4] Literatur: bestimmte Formen der Dichtung, in deren Mittelpunkt eine Klage ([1]) steht"
            ]);

            bezeichnen = "<h2>bezeichnen (Deutsch) [Bearbeiten]</h2>\n<h3>Verb [Bearbeiten]</h3>\n<p style=\"margin-bottom: -0.5em;\" title=\"Worttrennung\"><b>Worttrennung:</b></p>\n<dl><dd>be\u00b7zeich\u00b7nen, Pr\u00e4teritum: be\u00b7zeich\u00b7ne\u00b7te, Partizip II: be\u00b7zeich\u00b7net</dd>\n</dl><p style=\"margin-bottom: -0.5em;\"><b>Aussprache:</b></p>\n<dl><dd>IPA: [b\u0259\u02c8\u02a6a\u026a\u032f\u00e7n\u0259n], Pr\u00e4teritum: [b\u0259\u02c8\u02a6a\u026a\u032f\u00e7n\u0259t\u0259], Partizip II: [b\u0259\u02c8\u02a6a\u026a\u032f\u00e7n\u0259t]</dd>\n<dd>H\u00f6rbeispiele: [Lautsprecherbild]\u00a0bezeichnen (\u00f6sterreichisch)<sup>\u00a0(Info)</sup>, Pr\u00e4teritum: \u2014, Partizip II: \u2014</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Auch hier: Sinn oder Bezeichnetes (\u2192Semantik)\"><b>Bedeutungen:</b></p>\n<dl><dd>[1] jemandem oder etwas einen Namen geben, jemanden benennen</dd>\n<dd>[2] in bestimmter Weise kennzeichnen; durch ein Symbol erkennbar machen</dd>\n<dd>[3] eine Sache ausmachen, f\u00fcr etwas typisch sein</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Etymologie\"><b>Herkunft:</b></p>\n<dl><dd><i>althochdeutsch</i> pizeichanan</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"In bestimmtem Kontext bedeutungsgleich gebrauchte W\u00f6rter\"><b>Synonyme:</b></p>\n<dl><dd>[1] benennen</dd>\n<dd>[3] charakterisieren</dd>\n</dl><p style=\"margin-bottom: -0.5em;\"><b>Beispiele:</b></p>\n<dl><dd>[1] Die Aff\u00e4re bei VW kann man mit gutem Grund als Skandal <i>bezeichnen.</i></dd>\n<dd>[2] Der Wanderweg war gut <i>bezeichnet,</i> man konnte sich kaum verlaufen.</dd>\n<dd>[3] S\u00f6rens gestelzter Gang <i>bezeichnet</i> ihn.</dd>\n</dl><p style=\"margin-bottom: -0.5em;\" title=\"Derivate, Komposita und Konversionen\"><b>Wortbildungen:</b></p>\n<dl><dd>Bezeichnung</dd>\n</dl><h4>\u00dcbersetzungen [Bearbeiten]</h4>\n\n\n<p style=\"margin-bottom: -0.5em;\" title=\"Referenzen und weiterf\u00fchrende Informationen\"><font color=\"green\"><big><b>?</b></big></font> <b>Referenzen und weiterf\u00fchrende Informationen:</b></p>\n<dl><dd>[1] Deutsches W\u00f6rterbuch von Jacob und Wilhelm Grimm \u201ebezeichnen\u201c</dd>\n<dd>[1, 3] Goethe-W\u00f6rterbuch \u201ebezeichnen\u201c</dd>\n<dd>[1\u20133] Digitales W\u00f6rterbuch der deutschen Sprache \u201ebezeichnen\u201c</dd>\n<dd>[1, 2] canoo.net \u201ebezeichnen\u201c</dd>\n<dd>[1] Uni Leipzig: <i>Wortschatz-Lexikon</i> \u201ebezeichnen\u201c</dd>\n<dd>[1, 2] The Free Dictionary \u201ebezeichnen\u201c</dd>\n</dl>";
            expect(processors.de(bezeichnen)).to.eql([
               "[1] jemandem oder etwas einen Namen geben, jemanden benennen",
               "[2] in bestimmter Weise kennzeichnen; durch ein Symbol erkennbar machen",
               "[3] eine Sache ausmachen, für etwas typisch sein"
            ]);
        });
    });

    describe("the French definition processor", function () {

    });
});
